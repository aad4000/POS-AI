from selenium import webdriver
from selenium.webdriver.chrome.service import Service
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from webdriver_manager.chrome import ChromeDriverManager

# Setup Chrome driver
service = Service(ChromeDriverManager().install())
driver = webdriver.Chrome(service=service)

# Navigate to the webpage
url = "https://www.amazon.com/Hey-Dude-Stretch-Comfortable-Light-Weight/dp/B0B9NS94GJ/ref=sr_1_2?_encoding=UTF8&content-id=amzn1.sym.56e14e61-447a-443b-9528-4b285fddeeac&crid=1QEZIUFPCL3YZ&dib=eyJ2IjoiMSJ9.Wfe-BatvAyqd61cq_YZMs1mYbBB19OG9Qab0ut_PSdDWr3WCs7etKRCwrdxGBnv3sVH5OvcizqPkSly3ljmpcQYp_EK4OojXO5a9C0Ap8oCVa1zfYA9LieH8dAjuM6ND1a5Ah_RgU9rzDbVdxxfmOiD_BhGYIxPIlxEizPj_bj5bPPJJC_cvKgG2XyQ5FB5MYc2F_W-gYLbReZYCXAYOLVTt1a3g1U2_znf8Yj1Cuo3x_3mSQZ3epvR5ydacnXu76SKhKtYEW_PwajVeFhr_OoMW_j9fWOPR-XTnIjE-R7M.UszfJeHmd1sKQ5yvwJB34cGmGMxliAKMAHqXy87L6ak&dib_tag=se&keywords=Shoes&pd_rd_r=8454c9a9-2ae9-42fe-9e7c-2323029e91e5&pd_rd_w=ioXlr&pd_rd_wg=RmlLw&pf_rd_p=56e14e61-447a-443b-9528-4b285fddeeac&pf_rd_r=BW4WSC3ADH42B8JASAFK&qid=1724336229&refinements=p_36%3A-5000&rnid=2661611011&sprefix=shoes%2Caps%2C145&sr=8-2"
driver.get(url)

# Wait until the title element is present
try:
    # Extract the title
    title_element = WebDriverWait(driver, 10).until(
        EC.presence_of_element_located((By.ID, "productTitle"))
    )
    title = title_element.text.strip()  # Strip to remove any leading/trailing whitespace
    print("Title:", title)

finally:
    # Close the driver
    driver.quit()
